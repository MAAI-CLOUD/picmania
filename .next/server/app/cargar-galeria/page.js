(()=>{var e={};e.id=977,e.ids=[977],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},12781:e=>{"use strict";e.exports=require("stream")},59796:e=>{"use strict";e.exports=require("zlib")},41365:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var t=r(50482),s=r(69108),i=r(62563),n=r.n(i),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(a,o);let c=["",{children:["cargar-galeria",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37926)),"C:\\Users\\dante\\Desktop\\maai\\administracionGalerias\\arino-nextjs\\src\\app\\cargar-galeria\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,51965)),"C:\\Users\\dante\\Desktop\\maai\\administracionGalerias\\arino-nextjs\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,10870)),"C:\\Users\\dante\\Desktop\\maai\\administracionGalerias\\arino-nextjs\\src\\app\\not-found.jsx"]}],d=["C:\\Users\\dante\\Desktop\\maai\\administracionGalerias\\arino-nextjs\\src\\app\\cargar-galeria\\page.tsx"],p="/cargar-galeria/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/cargar-galeria/page",pathname:"/cargar-galeria",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23321:(e,a,r)=>{Promise.resolve().then(r.bind(r,2075))},32158:(e,a,r)=>{"use strict";e.exports=r(16372).vendored.contexts.HeadManagerContext},2075:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>h});var t=r(95344),s=r(3729),i=r(74314),n=r.n(i),l=r(8014),o=r(97005),c=r(18445),d=r.n(c);let p=e=>{try{let a=d().AES.decrypt(e,"secret_key");return JSON.parse(a.toString(d().enc.Utf8))}catch(e){return null}};var m=r(45617),u=r(84348),x=r(24501),g=r(24574);let h=({categorias:e})=>{let[a,r]=(0,s.useState)(!0),i=p(l.Z.get("email"));async function c(e,r){let t=JSON.stringify({data:{portadaGaleria:(await e.json())[0].id,nombreGaleria:r.nombreGaleria,privado:a,correoGaleria:i,descripcionGaleria:r.descGaleria}}),s=new Headers;s.append("Content-Type","application/json"),fetch("https://strapi-fotos.maai.cloud/api/galerias",{method:"POST",headers:s,body:t,redirect:"follow"}).then(e=>{200==e.status?(n().fire({icon:"success",timer:5e3,showCancelButton:!1,showConfirmButton:!1,text:"Galeria generada exitosamente!"}),window.location.href="/"):n().fire({icon:"error",timer:5e3,showCancelButton:!1,showConfirmButton:!1,text:"No se pudo generar la Galeria! favor verificar datos"})}).catch(()=>{})}let[d,h]=(0,s.useState)(null),[f,j]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=e=>{j(y(e))};return o.default.events.on("routeChangeComplete",e),()=>{o.default.events.off("routeChangeComplete",e)}},[]);let y=e=>{let a=e.split("/");return a[a.length-1]},[b,v]=(0,s.useState)("");return(0,t.jsxs)(t.Fragment,{children:[t.jsx(m.Z,{lg:"150",md:"80"}),t.jsx("section",{className:"login-area pt-40 pb-100 wow","data-wow-duration":".8s","data-wow-delay":".5s",children:t.jsx(u.Z,{className:"container",children:(0,t.jsxs)(u.Z,{className:"row",children:[t.jsx(g.Z,{title:"Cargar Galeria",subtitle:"Upload Gallery",btnLink:void 0,btnText:void 0,variant:void 0,children:void 0}),t.jsx(m.Z,{lg:"30",md:"5"}),t.jsx(u.Z,{className:"col-lg-12",children:(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){let a=new FormData;a.append("files",e.imagenUrl),a.append("files",e.avatar),fetch("https://strapi-fotos.maai.cloud/api/upload",{method:"POST",body:a}).then(async a=>{await c(a,e)})}(Object.fromEntries(new FormData(e.target)))},className:"row",children:[(0,t.jsxs)(u.Z,{className:"col-sm-6",children:[(0,t.jsxs)("label",{htmlFor:"name",className:"cs-primary_color",children:["Imagen de Portada: ",t.jsx("span",{children:"*"})]}),t.jsx("input",{className:"entrada",type:"file",id:"imagenUrl",name:"imagenUrl",required:!0,onChange:e=>{let a=e.target.files[0];if(a){let e=new FileReader;e.onload=()=>{h(e.result)},e.readAsDataURL(a)}}}),d&&t.jsx("div",{className:"d-flex justify-content-center align-items-center",children:t.jsx("img",{src:d,alt:"Imagen"})}),t.jsx(m.Z,{lg:"20",md:"20"}),(0,t.jsxs)("label",{htmlFor:"name",className:"cs-primary_color",children:["Nombre Galeria ",t.jsx("span",{children:"*"})]}),t.jsx("input",{type:"text",id:"nombreGaleria",name:"nombreGaleria",className:"cs-form_field",required:!0}),t.jsx(m.Z,{lg:"20",md:"20"}),(0,t.jsxs)("label",{htmlFor:"name",className:"cs-primary_color",children:["Descripci\xf3n Galeria ",t.jsx("span",{children:"*"})]}),t.jsx("input",{type:"text",id:"descGaleria",name:"descGaleria",className:"cs-form_field",required:!0}),t.jsx(m.Z,{lg:"20",md:"20"})]}),t.jsx("label",{htmlFor:"galeria",className:"form-check-label",children:"Galeria Privada"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("p",{style:{marginRight:"10px"},children:a?"Activado":"Desactivado"}),(0,t.jsxs)("label",{className:"switch",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:()=>{r(!a)}}),t.jsx("span",{className:"slider round"})]})]}),t.jsx(u.Z,{className:"col-sm-12",children:(0,t.jsxs)("button",{className:"cs-btn cs-style1",children:[t.jsx("span",{children:"Cargar"}),t.jsx(x.JO,{icon:"bi:arrow-right"})]})})]})})]})})})]})}},37926:(e,a,r)=>{"use strict";r.r(a),r.d(a,{$$typeof:()=>i,__esModule:()=>s,default:()=>n});let t=(0,r(86843).createProxy)(String.raw`C:\Users\dante\Desktop\maai\administracionGalerias\arino-nextjs\src\app\cargar-galeria\page.tsx`),{__esModule:s,$$typeof:i}=t,n=t.default}};var a=require("../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[696,445,5,881],()=>r(41365));module.exports=t})();