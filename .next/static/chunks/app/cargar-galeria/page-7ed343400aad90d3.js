(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{42480:function(){},72431:function(){},47846:function(e,a,t){Promise.resolve().then(t.bind(t,6257))},6257:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return p}});var n=t(57437),s=t(2265),r=t(63411),i=t.n(r),l=t(98955),c=t(37134),o=t(95617),d=t.n(o),u=e=>{try{let a=d().AES.decrypt(e,"secret_key");return JSON.parse(a.toString(d().enc.Utf8))}catch(e){return null}},m=t(8932),h=t(11026),f=t(37948),x=t(93434),p=e=>{let{categorias:a}=e,[t,r]=(0,s.useState)(!0),o=u(l.Z.get("email"));async function d(e,a){let n=JSON.stringify({data:{portadaGaleria:(await e.json())[0].id,nombreGaleria:a.nombreGaleria,privado:t,correoGaleria:o,descripcionGaleria:a.descGaleria}}),s=new Headers;s.append("Content-Type","application/json"),fetch("".concat("https://strapi-fotos.maai.cloud","/api/galerias"),{method:"POST",headers:s,body:n,redirect:"follow"}).then(e=>{200==e.status?(i().fire({icon:"success",timer:5e3,showCancelButton:!1,showConfirmButton:!1,text:"Galeria generada exitosamente!"}),window.location.href="/"):i().fire({icon:"error",timer:5e3,showCancelButton:!1,showConfirmButton:!1,text:"No se pudo generar la Galeria! favor verificar datos"})}).catch(()=>{})}let[p,j]=(0,s.useState)(null),[g,b]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=e=>{b(N(e))};return c.default.events.on("routeChangeComplete",e),()=>{c.default.events.off("routeChangeComplete",e)}},[]);let N=e=>{let a=e.split("/");return a[a.length-1]},[v,w]=(0,s.useState)("");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{lg:"150",md:"80"}),(0,n.jsx)("section",{className:"login-area pt-40 pb-100 wow","data-wow-duration":".8s","data-wow-delay":".5s",children:(0,n.jsx)(h.Z,{className:"container",children:(0,n.jsxs)(h.Z,{className:"row",children:[(0,n.jsx)(x.Z,{title:"Cargar Galeria",subtitle:"Upload Gallery",btnLink:void 0,btnText:void 0,variant:void 0,children:void 0}),(0,n.jsx)(m.Z,{lg:"30",md:"5"}),(0,n.jsx)(h.Z,{className:"col-lg-12",children:(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){let a=new FormData;a.append("files",e.imagenUrl),a.append("files",e.avatar),fetch("".concat("https://strapi-fotos.maai.cloud","/api/upload"),{method:"POST",body:a}).then(async a=>{await d(a,e)})}(Object.fromEntries(new FormData(e.target)))},className:"row",children:[(0,n.jsxs)(h.Z,{className:"col-sm-6",children:[(0,n.jsxs)("label",{htmlFor:"name",className:"cs-primary_color",children:["Imagen de Portada: ",(0,n.jsx)("span",{children:"*"})]}),(0,n.jsx)("input",{className:"entrada",type:"file",id:"imagenUrl",name:"imagenUrl",required:!0,onChange:e=>{let a=e.target.files[0];if(a){let e=new FileReader;e.onload=()=>{j(e.result)},e.readAsDataURL(a)}}}),p&&(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,n.jsx)("img",{src:p,alt:"Imagen"})}),(0,n.jsx)(m.Z,{lg:"20",md:"20"}),(0,n.jsxs)("label",{htmlFor:"name",className:"cs-primary_color",children:["Nombre Galeria ",(0,n.jsx)("span",{children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"nombreGaleria",name:"nombreGaleria",className:"cs-form_field",required:!0}),(0,n.jsx)(m.Z,{lg:"20",md:"20"}),(0,n.jsxs)("label",{htmlFor:"name",className:"cs-primary_color",children:["Descripci\xf3n Galeria ",(0,n.jsx)("span",{children:"*"})]}),(0,n.jsx)("input",{type:"text",id:"descGaleria",name:"descGaleria",className:"cs-form_field",required:!0}),(0,n.jsx)(m.Z,{lg:"20",md:"20"})]}),(0,n.jsx)("label",{htmlFor:"galeria",className:"form-check-label",children:"Galeria Privada"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)("p",{style:{marginRight:"10px"},children:t?"Activado":"Desactivado"}),(0,n.jsxs)("label",{className:"switch",children:[(0,n.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{r(!t)}}),(0,n.jsx)("span",{className:"slider round"})]})]}),(0,n.jsx)(h.Z,{className:"col-sm-12",children:(0,n.jsxs)("button",{className:"cs-btn cs-style1",children:[(0,n.jsx)("span",{children:"Cargar"}),(0,n.jsx)(f.JO,{icon:"bi:arrow-right"})]})})]})})]})})})]})}},61933:function(e,a,t){"use strict";t.d(a,{Z:function(){return i}});var n=t(57437);t(2265);var s=t(37948),r=t(8792);function i(e){let{btnLink:a,btnText:t,variant:i,icon:l}=e;return(0,n.jsx)(r.default,{href:a,className:i?"cs-text_btn ".concat(i):"cs-text_btn",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:t}),l||(0,n.jsx)(s.JO,{icon:"bi:arrow-right"})]})})}},11026:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});var n=t(57437);function s(e){return(0,n.jsx)("div",{...e,children:e.children})}t(2265)},93434:function(e,a,t){"use strict";t.d(a,{Z:function(){return c}});var n=t(57437);t(2265);var s=t(84555),r=t(61933),i=t(8932),l=t(11026);function c(e){let{title:a,subtitle:t,btnLink:c,btnText:o,variant:d,children:u}=e;return(0,n.jsxs)(l.Z,{className:d?"cs-section_heading ".concat(d):"cs-section_heading cs-style1",children:[(0,n.jsx)("h3",{className:"cs-section_subtitle",children:(0,s.ZP)(t)}),(0,n.jsx)("h2",{className:"cs-section_title",children:(0,s.ZP)(a)}),u,o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{lg:"45",md:"20"}),(0,n.jsx)(r.Z,{btnLink:c,btnText:o})]})]})}},8932:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});var n=t(57437);t(2265);var s=t(11026);function r(e){let{lg:a,md:t}=e;return(0,n.jsx)(s.Z,{className:"cs-height_".concat(a," cs-height_lg_").concat(t)})}t(12541)},12541:function(){}},function(e){e.O(0,[792,948,555,411,98,134,971,69,744],function(){return e(e.s=47846)}),_N_E=e.O()}]);